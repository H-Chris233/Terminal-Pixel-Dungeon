# 终端像素地牢中文化说明

本文档说明了项目的中文化工作进展和使用指南。

## 已完成的中文化工作

### 1. 项目文档
✅ **完全中文化**
- `README.md` - 项目主要说明文档
- `CLAUDE.md` - Claude AI 开发指南
- `QWEN.md` - Qwen AI 开发指南
- `docs/README.md` - 文档目录索引
- `docs/turn_system_zh.md` - 回合系统架构（新增中文版）

✅ **已移动到 docs/ 目录**
- 所有根目录的技术文档已移动到 `docs/` 目录
- 包括：实现总结、重构文档、测试文档、UI 改进等

### 2. 代码注释
✅ **核心文件已中文化**
- `src/main.rs` - 主入口文件
- `src/ecs.rs` - ECS 核心实现（部分）
- `src/game_loop.rs` - 游戏循环（部分）
- `src/systems.rs` - 游戏系统（部分）
- `src/combat/src/lib.rs` - 战斗模块（部分）
- `src/event_bus.rs` - 事件总线（已完成）

⚠️ **待完善的代码注释**
- 子模块的详细实现文件（dungeon、hero、items、save 等）
- 测试文件中的注释
- UI 渲染模块的注释

注意：所有代码仍可正常编译和运行，待完善的注释不影响功能。

### 3. 游戏内文本
✅ **已中文化**
- 游戏消息日志（伤害、物品使用、状态效果等）
- 事件总线消息
- 成就系统文本

## 使用指南

### 开发
项目完全支持中文开发环境：
```bash
# 查看中文 README
cat README.md

# 查看 AI 开发指南
cat CLAUDE.md  # 或 QWEN.md

# 查看回合系统架构（中文）
cat docs/turn_system_zh.md
```

### 构建和运行
```bash
# 开发模式
cargo run

# 发布模式（推荐）
cargo run --release

# 测试
cargo test --workspace
```

### 文档结构
```
.
├── README.md                 # 主要说明（中文）
├── CLAUDE.md                 # AI 开发指南（中文）
├── QWEN.md                   # AI 开发指南（中文）
├── LICENSE                   # 许可证
├── docs/                     # 详细文档目录
│   ├── README.md            # 文档索引（中文）
│   ├── turn_system_zh.md    # 回合系统（中文）
│   ├── turn_system.md       # 回合系统（英文原版）
│   ├── EVENT_BUS_*.md       # 事件总线文档（中文）
│   └── ...                  # 其他技术文档
└── src/                     # 源代码
    ├── main.rs              # 入口（部分中文注释）
    ├── ecs.rs               # ECS 核心（部分中文注释）
    ├── game_loop.rs         # 游戏循环（部分中文注释）
    └── ...                  # 其他模块
```

## 代码约定

### 命名规范
遵循 Rust 社区规范，保持代码标识符使用英文：
- ✅ 变量名：`player_entity`, `damage_dealt`
- ✅ 函数名：`calculate_damage()`, `process_events()`
- ✅ 类型名：`GameLoop`, `CombatSystem`
- ✅ 文件名：`game_loop.rs`, `combat_manager.rs`

### 注释规范
注释使用中文，清晰说明代码逻辑：
```rust
/// 处理游戏事件的成就跟踪
fn handle_achievement_event(&mut self, event: &GameEvent) {
    // 跟踪敌人击杀数
    let newly_unlocked = self.achievements.on_kill();
}
```

### 文档字符串
公共 API 的文档注释使用中文：
```rust
/// 主游戏循环，按顺序运行 ECS 系统
pub struct GameLoop<R, I, C> {
    // ...
}
```

## 游戏内容

### 消息系统
游戏内所有消息已中文化：
- 战斗消息："暴击！造成 15 点伤害"
- 物品消息："拾取了 生命药水"
- 状态消息："受到燃烧效果影响，持续3回合"
- 系统消息："从第 1 层进入第 2 层"

### 成就系统
成就名称和描述使用中文：
- 🏆 成就解锁: 初次击杀 - 击败第一个敌人

## 未来改进

### 建议的后续工作
1. **完善代码注释**：继续翻译子模块的详细注释
2. **UI 文本完善**：确保所有 UI 显示文本都是中文
3. **帮助文档**：添加游戏内帮助文档（中文）
4. **教程系统**：创建中文游戏教程

### 维护建议
- 新增功能时，注释和文档统一使用中文
- 保持代码标识符使用英文（Rust 规范）
- 定期更新文档以反映代码变更

## 贡献指南

如果您希望继续完善中文化工作：
1. 选择一个未完全中文化的文件
2. 翻译其中的注释，保持代码不变
3. 确保翻译准确、专业术语统一
4. 提交 Pull Request

### 术语对照表
| 英文 | 中文 | 说明 |
|------|------|------|
| Entity Component System | 实体组件系统 | ECS 架构 |
| Turn-based | 回合制 | 游戏机制 |
| Field of View | 视野系统 | FOV |
| Ambush | 潜行攻击 | 战斗机制 |
| Critical Hit | 暴击 | 战斗机制 |
| Status Effect | 状态效果 | Buff/Debuff |
| Event Bus | 事件总线 | 架构模式 |
| Dungeon | 地牢 | 游戏场景 |
| Inventory | 库存/背包 | 物品系统 |
| Achievement | 成就 | 游戏功能 |

## 版本历史

### v0.0.1 (当前)
- 完成主要文档中文化
- 完成核心代码注释中文化
- 完成游戏内文本中文化
- 项目可正常编译运行

---

**注意**：本项目仍在积极开发中，文档和代码可能随时更新。如有疑问，请查看最新的 README.md 或提交 Issue。
